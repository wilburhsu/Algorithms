## 秒杀系统

高并发的商品详情页请求 
1. 页面数据静态化
2. CDN + Nginx + Redis的多级缓存架构

秒杀架构的核心要点

​	在前端/客户端设置秒杀答题，错开大量人下单的时间，阻止作弊器刷单
​	独立出来一套秒杀系统，专门负责处理秒杀请求
​	优先基于Redis进行高并发的库存扣减，一旦库存扣完则秒杀结束
​	秒杀结束之后，Nginx层过滤掉无效的请求，大幅度削减转发到后端的流量
​	瞬时生成的大量下单请求直接进入RocketMQ进行削峰，订单系统慢慢拉取消息完成下单操作  

## Feed流系统



## 实时报表系统

数据合流与追溯：

用时间戳和唯一id

at most once : 至多一次，表示一条消息不管后续处理成功与否只会被消费处理一次，那么就存在数据丢失可能
exactly once : 精确一次，表示一条消息从其消费到后续的处理成功，只会发生一次
at least once ：至少一次，表示一条消息从消费到后续的处理成功，可能会发生多次

## 海量订单系统



## 积分过期设计

例：7月2日过期5月所有积分

## 微博海量评论抽奖

保证抽奖实时及公平

## 顶层限流方案

非Nginx，基于Redis令牌桶的限流算法或者网关限流